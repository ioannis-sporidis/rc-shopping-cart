{"version":3,"sources":["data.js","helpers/reducer.js","helpers/context.js","components/Navbar.js","components/CartItem.js","components/CartContainer.js","App.js","index.js"],"names":["data","id","title","price","img","amount","reducer","state","action","type","cart","newCartItems","filter","item","payload","tempCart","map","cartItem","reduce","cartTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","cartItems","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","toggleAmount","useGlobalContext","useContext","Navbar","className","CartItem","src","alt","onClick","xmlns","viewBox","d","CartContainer","length","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11cf4dcb.chunk.js","sourcesContent":["const data = [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n\nexport default data;\n","const reducer = (state, action) => {\n  if (action.type === 'CLEAR_CART') {\n    return { ...state, cart: [] };\n  }\n  if (action.type === 'REMOVE') {\n    let newCartItems = state.cart.filter(item => item.id !== action.payload);\n    return { ...state, cart: newCartItems };\n  }\n  if (action.type === 'TOGGLE_AMOUNT') {\n    let tempCart = state.cart\n      .map(cartItem => {\n        if (cartItem.id === action.payload.id) {\n          if (action.payload.type === 'increase') {\n            return { ...cartItem, amount: cartItem.amount + 1 };\n          }\n          if (action.payload.type === 'decrease') {\n            return { ...cartItem, amount: cartItem.amount - 1 };\n          }\n        }\n        return cartItem;\n      })\n      .filter(cartItem => cartItem.amount !== 0);\n    return { ...state, cart: tempCart };\n  }\n  if (action.type === 'GET_TOTALS') {\n    let { total, amount } = state.cart.reduce(\n      (cartTotal, cartItem) => {\n        const { price, amount } = cartItem;\n        cartTotal.amount += amount;\n        cartTotal.total += amount * price;\n        return cartTotal;\n      },\n      {\n        total: 0,\n        amount: 0,\n      }\n    );\n    total = parseFloat(total.toFixed(2));\n\n    return { ...state, total, amount };\n  }\n  if (action.type === 'LOADING') {\n    return { ...state, loading: true };\n  }\n  if (action.type === 'DISPLAY_ITEMS') {\n    return { ...state, loading: false, cart: action.payload };\n  }\n  throw new Error('no matching action type');\n};\n\nexport default reducer;\n","import React, { useContext, useReducer, useEffect } from 'react';\nimport cartItems from '../data';\nimport reducer from '../helpers/reducer';\n\nconst url = 'https://course-api.com/react-useReducer-cart-project';\nconst AppContext = React.createContext();\n\nconst initialState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' });\n  };\n\n  const remove = id => {\n    dispatch({ type: 'REMOVE', payload: id });\n  };\n\n  const toggleAmount = (id, type) => {\n    dispatch({ type: 'TOGGLE_AMOUNT', payload: { id, type } });\n  };\n\n  const fetchData = async () => {\n    dispatch({ type: 'LOADING' });\n    const response = await fetch(url);\n    const cart = await response.json();\n    dispatch({ type: 'DISPLAY_ITEMS', payload: cart });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: 'GET_TOTALS' });\n  }, [state.cart]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        remove,\n        toggleAmount,\n      }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import { FaShoppingCart } from 'react-icons/fa';\nimport { useGlobalContext } from '../helpers/context';\n\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          {/* <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg> */}\n          <FaShoppingCart className='nav-icon' />\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { useGlobalContext } from '../helpers/context';\n\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { remove, toggleAmount } = useGlobalContext();\n\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button className='remove-btn' onClick={() => remove(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button\n          className='amount-btn'\n          onClick={() => toggleAmount(id, 'increase')}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button\n          className='amount-btn'\n          onClick={() => toggleAmount(id, 'decrease')}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from 'react';\nimport CartItem from './CartItem';\nimport { useGlobalContext } from '../helpers/context';\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext();\n\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>your cart</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your cart</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map(item => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className='btn clear-btn' onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from 'react';\nimport { useGlobalContext } from './helpers/context';\n\n// components\nimport Navbar from './components/Navbar';\nimport CartContainer from './components/CartContainer';\n\nfunction App() {\n  const { loading } = useGlobalContext();\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './helpers/context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}